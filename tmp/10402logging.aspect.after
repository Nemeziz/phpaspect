<xsl:if xmlns:xsl="http://www.w3.org/1999/XSL/Transform" test="(name()='php:class_statement' and not(//php:method_body/php:CHAR59) and&#10;                not(ancestor::php:unticked_class_declaration_statement[1]/php:interface_entry) &#10;                and (ancestor::php:unticked_class_declaration_statement[1]/php:T_STRING = 'Order' or php:function('XPathFunctions::isMethodName', ancestor::php:unticked_class_declaration_statement[1]/php:T_STRING, 'Order'))&#10;                and (php:T_STRING = 'addItem' or php:function('XPathFunctions::isMethodName', php:T_STRING, 'addItem')) &#10;                and (normalize-space(php:method_modifiers) = 'public'&#10;                 or  'public'='*')&#10;                )"><php:T_IF xmlns:php="http://php.net/xsl">if</php:T_IF><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:expr xmlns:php="http://php.net/xsl"><xsl:value-of select="concat(false(), '')"/></php:expr><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR123 xmlns:php="http://php.net/xsl">{</php:CHAR123><xsl:if test="php:T_OBJECT_OPERATOR"><php:thisJoinpoint xmlns:php="http://php.net/xsl">$thisJoinPoint = new CallJoinPoint('', __LINE__, __FILE__, array(</php:thisJoinpoint><xsl:for-each select="descendant::php:function_call_parameter_list/php:non_empty_function_call_parameter_list"><xsl:copy-of select="."/></xsl:for-each><php:thisJoinpoint xmlns:php="http://php.net/xsl">), </php:thisJoinpoint><xsl:copy-of select="php:T_VARIABLE[2]"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">, '</php:thisJoinpoint><xsl:copy-of select="php:object_property"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">');</php:thisJoinpoint></xsl:if><xsl:if test="php:expr_without_variable/php:T_NEW"><php:thisJoinpoint xmlns:php="http://php.net/xsl">$thisJoinPoint = new NewJoinPoint('', __LINE__, __FILE__, array(</php:thisJoinpoint><xsl:for-each select="descendant::php:function_call_parameter_list/php:non_empty_function_call_parameter_list"><xsl:copy-of select="."/></xsl:for-each><php:thisJoinpoint xmlns:php="http://php.net/xsl">), </php:thisJoinpoint><xsl:copy-of select="descendant::php:T_VARIABLE[1]"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">);</php:thisJoinpoint></xsl:if><php:function xmlns:php="http://php.net/xsl">function</php:function><php:T_STRING xmlns:php="http://php.net/xsl"> __phpaspect
        <xsl:value-of select="php:function('Counter::getId')"/></php:T_STRING><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:T_VARIABLE xmlns:php="http://php.net/xsl">$thisJoinPoint</php:T_VARIABLE><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR123 xmlns:php="http://php.net/xsl">{</php:CHAR123><xsl:copy>












printf
(









"%d %s added to the cart\n"




,





$quantity






,





$reference







)





;



</xsl:copy><php:thisJoinpoint xmlns:php="http://php.net/xsl">unset($thisJoinPoint);</php:thisJoinpoint><php:CHAR125 xmlns:php="http://php.net/xsl">}</php:CHAR125><php:T_STRING xmlns:php="http://php.net/xsl">__phpaspect
        <xsl:value-of select="php:function('Counter::getId')"/></php:T_STRING><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:T_VARIABLE xmlns:php="http://php.net/xsl">$thisJoinPoint</php:T_VARIABLE><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR59 xmlns:php="http://php.net/xsl">;</php:CHAR59><php:CHAR125 xmlns:php="http://php.net/xsl">}</php:CHAR125></xsl:if><xsl:if xmlns:xsl="http://www.w3.org/1999/XSL/Transform" test="(php:T_OBJECT_OPERATOR and php:method_or_not/php:function_call_parameter_list and php:function('XPathFunctions::isMethodName', php:object_property, 'addItem')&#10;                        and ((normalize-space('2') = '*') or (count(descendant::php:non_empty_function_call_parameter_list) = '2')))"><php:T_IF xmlns:php="http://php.net/xsl">if</php:T_IF><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:expr xmlns:php="http://php.net/xsl"><xsl:value-of select="concat(php:function('Test::isCallJpt', php:T_VARIABLE[2], 'Order',  php:object_property, 'addItem'), '')"/></php:expr><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR123 xmlns:php="http://php.net/xsl">{</php:CHAR123><xsl:if test="php:T_OBJECT_OPERATOR"><php:thisJoinpoint xmlns:php="http://php.net/xsl">$thisJoinPoint = new CallJoinPoint('', __LINE__, __FILE__, array(</php:thisJoinpoint><xsl:for-each select="descendant::php:function_call_parameter_list/php:non_empty_function_call_parameter_list"><xsl:copy-of select="."/></xsl:for-each><php:thisJoinpoint xmlns:php="http://php.net/xsl">), </php:thisJoinpoint><xsl:copy-of select="php:T_VARIABLE[2]"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">, '</php:thisJoinpoint><xsl:copy-of select="php:object_property"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">');</php:thisJoinpoint></xsl:if><xsl:if test="php:expr_without_variable/php:T_NEW"><php:thisJoinpoint xmlns:php="http://php.net/xsl">$thisJoinPoint = new NewJoinPoint('', __LINE__, __FILE__, array(</php:thisJoinpoint><xsl:for-each select="descendant::php:function_call_parameter_list/php:non_empty_function_call_parameter_list"><xsl:copy-of select="."/></xsl:for-each><php:thisJoinpoint xmlns:php="http://php.net/xsl">), </php:thisJoinpoint><xsl:copy-of select="descendant::php:T_VARIABLE[1]"/><php:thisJoinpoint xmlns:php="http://php.net/xsl">);</php:thisJoinpoint></xsl:if><php:function xmlns:php="http://php.net/xsl">function</php:function><php:T_STRING xmlns:php="http://php.net/xsl"> __phpaspect
        <xsl:value-of select="php:function('Counter::getId')"/></php:T_STRING><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:T_VARIABLE xmlns:php="http://php.net/xsl">$thisJoinPoint</php:T_VARIABLE><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR123 xmlns:php="http://php.net/xsl">{</php:CHAR123><xsl:copy>












printf
(








"Total amount of the cart: %.2f euros\n"




,





$thisJoinPoint




-&gt;





getTarget






(




)





-&gt;



getAmount






(




)






)





;



</xsl:copy><php:thisJoinpoint xmlns:php="http://php.net/xsl">unset($thisJoinPoint);</php:thisJoinpoint><php:CHAR125 xmlns:php="http://php.net/xsl">}</php:CHAR125><php:T_STRING xmlns:php="http://php.net/xsl">__phpaspect
        <xsl:value-of select="php:function('Counter::getId')"/></php:T_STRING><php:CHAR40 xmlns:php="http://php.net/xsl">(</php:CHAR40><php:T_VARIABLE xmlns:php="http://php.net/xsl">$thisJoinPoint</php:T_VARIABLE><php:CHAR41 xmlns:php="http://php.net/xsl">)</php:CHAR41><php:CHAR59 xmlns:php="http://php.net/xsl">;</php:CHAR59><php:CHAR125 xmlns:php="http://php.net/xsl">}</php:CHAR125></xsl:if>
